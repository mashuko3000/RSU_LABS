CREATE OR REPLACE FUNCTION generate_publishing_house(num_houses INTEGER)
RETURNS VOID AS $$
DECLARE
	pub_names TEXT[] := ARRAY['Издательство АСТ', 'Эксмо', 'Азбука-Аттикус', 'Питер', 'Манн, Иванов и Фербер', 'Альпина Паблишер', 'Corpus'];
    pub_cities TEXT[] := ARRAY['Москва', 'Санкт-Петербург', 'Екатеринбург', 'Новосибирск'];
    i INTEGER := 1;
BEGIN
	WHILE i <= num_houses LOOP
		INSERT INTO public.publishing_house(name, city)
		VALUES(
			pub_names[1+floor(random() * array_length(pub_names, 1))],
			pub_cities[1+floor(random() * array_length(pub_cities, 1))]
		);
		i := i + 1;
	END LOOP;
END;
$$ LANGUAGE plpgsql;

SELECT generate_publishing_house(6);