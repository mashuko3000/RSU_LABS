CREATE OR REPLACE FUNCTION generate_authors(num_authors INTEGER)
RETURNS VOID AS $$
DECLARE
	first_name TEXT[] := ARRAY['Александр', 'Михаил', 'Николай', 'Сергей', 'Иван', 'Антон', 'Федор', 'Лев'];
	last_name TEXT[] := ARRAY['Пушкин', 'Лермонтов', 'Гоголь', 'Есенин', 'Тургенев', 'Чехов', 'Достоевский', 'Толстой'];
	random_first_name TEXT;
	random_last_name TEXT;
	i INTEGER := 1;
BEGIN
	WHILE i <= num_authors LOOP
		random_first_name := first_name[1 + floor(random() * array_length(first_name, 1))];
		random_last_name := last_name[1 + floor(random() * array_length(last_name, 1))];

		INSERT INTO public.author(last_name, first_name)
		VALUES (random_last_name, random_first_name);

		i := i+1;
	END LOOP;
END
$$ LANGUAGE plpgsql;

SELECT generate_authors(10);